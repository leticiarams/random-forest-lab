(defvar forest-model (quote 

(((7 5 1 3 8)
  (ROOT
   ("0"
    ("B" ("2" ("0" ("S" ("0") (5) ("1") (0))) ("1" ("S" ("0") (1) ("1") (0))))
     ("3"
      ("0" ("Q" ("0") (1) ("1") (0)) ("C" ("0") (2) ("1") (0))
       ("S" ("0") (9) ("1") (0)))
      ("2" ("S" ("0") (1) ("1") (0))))
     ("1" ("1" ("C" ("0") (1) ("1") (0)))))
    ("D" ("2" ("0" ("S" ("0") (2) ("1") (0))) ("2" ("S" ("0") (1) ("1") (0))))
     ("3" ("0" ("S" ("0") (5) ("1") (0))))
     ("1" ("0" ("S" ("0") (2) ("1") (0)) ("C" ("0") (3) ("1") (0)))))
    ("C" ("3" ("0" ("S" ("0") (4) ("1") (0)) ("C" ("0") (1) ("1") (0))))
     ("1" ("2" ("C" ("0") (2) ("1") (0))))
     ("2" ("0" ("S" ("0") (2) ("1") (0)) ("C" ("0") (1) ("1") (0)))))
    ("A"
     ("2" ("2" ("S" ("0") (1) ("1") (0)))
      ("0" ("C" ("0") (1) ("1") (0)) ("S" ("0") (2) ("1") (0))))
     ("3" ("0" ("S" ("0") (2) ("1") (0))) ("2" ("S" ("0") (2) ("1") (0)))
      ("1" ("C" ("0") (1) ("1") (0))))
     ("1" ("0" ("S" ("0") (1) ("1") (0))))))
   ("1"
    ("D"
     ("1" ("0" ("C" ("1") (4) ("0") (0)) ("S" ("1") (2) ("0") (0)))
      ("3" ("C" ("1") (1) ("0") (0)))
      ("1" ("C" ("1") (1) ("0") (0)) ("S" ("1") (1) ("0") (0)))))
    ("B" ("3" ("0" ("S" ("1") (4) ("0") (0)) ("Q" ("1") (1) ("0") (0))))
     ("2" ("0" ("C" ("1") (1) ("0") (0)) ("S" ("1") (3) ("0") (0)))
      ("3" ("S" ("1") (2) ("0") (0))))
     ("1" ("1" ("C" ("1") (1) ("0") (0)))))
    ("A" ("2" ("1" ("S" ("1") (3) ("0") (0))))
     ("3" ("2" ("S" ("1") (2) ("0") (0)))
      ("0" ("Q" ("1") (1) ("0") (0)) ("S" ("1") (2) ("0") (0)))
      ("1" ("S" ("1") (1) ("0") (0))))
     ("1" ("2" ("C" ("1") (1) ("0") (0)) ("S" ("1") (1) ("0") (0)))))
    ("C" ("2" ("0" ("S" ("1") (5) ("0") (0))) ("1" ("S" ("1") (1) ("0") (0))))
     ("3" ("0" ("Q" ("1") (2) ("0") (0)) ("S" ("1") (1) ("0") (0))))
     ("1"
      ("0" ("Q" ("1") (1) ("0") (0)) ("S" ("1") (1) ("0") (0))
       ("C" ("1") (3) ("0") (0)))
      ("1" ("C" ("1") (1) ("0") (0))))))))
 ((4 2 8)
  (ROOT
   ("0"
    ("male" ("0" ("0") (37) ("1") (0)) ("1" ("0") (12) ("1") (0))
     ("2" ("0") (1) ("1") (0)) ("5" ("0") (1) ("1") (0))
     ("3" ("0") (1) ("1") (0)))
    ("female" ("2" ("0") (1) ("1") (0)) ("0" ("0") (3) ("1") (0))
     ("1" ("0") (2) ("1") (0))))
   ("1"
    ("female" ("2" ("1") (1) ("0") (0)) ("1" ("1") (15) ("0") (0))
     ("0" ("1") (17) ("0") (0)))
    ("male" ("1" ("1") (4) ("0") (0)) ("0" ("1") (5) ("0") (0))))))
 ((4 2)
  (ROOT
   ("male" ("0" ("0") (38) ("1") (9)) ("1" ("0") (12) ("1") (3))
    ("3" ("0") (1) ("1") (0)) ("4" ("0") (1) ("1") (0))
    ("2" ("0") (1) ("1") (0)))
   ("female" ("1" ("0") (2) ("1") (7)) ("2" ("0") (1) ("1") (1))
    ("0" ("1") (19) ("0") (5)))))
 ((1 5 8)
  (ROOT
   ("1"
    ("1" ("2" ("1") (2) ("0") (0)) ("1" ("1") (3) ("0") (0))
     ("3" ("1") (1) ("0") (0)))
    ("0" ("1" ("1") (17) ("0") (0)) ("2" ("1") (8) ("0") (0))
     ("3" ("1") (8) ("0") (0)))
    ("2" ("1" ("1") (3) ("0") (0)) ("2" ("1") (1) ("0") (0))))
   ("0"
    ("0" ("3" ("0") (19) ("1") (0)) ("2" ("0") (13) ("1") (0))
     ("1" ("0") (10) ("1") (0)))
    ("2" ("1" ("0") (2) ("1") (0)) ("3" ("0") (3) ("1") (0)))
    ("1" ("3" ("0") (5) ("1") (0)) ("2" ("0") (4) ("1") (0))
     ("1" ("0") (1) ("1") (0))))))
 ((4 3 6 8)
  (ROOT
   ("0"
    ("A" ("D" ("0" ("0") (3) ("1") (0))) ("B" ("0" ("0") (1) ("1") (0)))
     ("C" ("0" ("0") (5) ("1") (0)) ("1" ("0") (2) ("1") (0)))
     ("A" ("0" ("0") (2) ("1") (0))))
    ("B" ("D" ("0" ("0") (4) ("1") (0)))
     ("B" ("0" ("0") (10) ("1") (0)) ("1" ("0") (1) ("1") (0)))
     ("A" ("0" ("0") (3) ("1") (0))) ("C" ("0" ("0") (7) ("1") (0))))
    ("C" ("D" ("0" ("0") (3) ("1") (0)) ("1" ("0") (2) ("1") (0)))
     ("A" ("4" ("0") (2) ("1") (0)) ("0" ("0") (1) ("1") (0))
      ("3" ("0") (4) ("1") (0)) ("1" ("0") (1) ("1") (0)))
     ("B" ("1" ("0") (1) ("1") (0)) ("0" ("0") (1) ("1") (0)))
     ("C" ("1" ("0") (1) ("1") (0)) ("0" ("0") (1) ("1") (0))))
    ("D"
     ("D" ("1" ("0") (6) ("1") (0)) ("2" ("0") (1) ("1") (0))
      ("0" ("0") (1) ("1") (0)))
     ("C" ("0" ("0") (1) ("1") (0))) ("A" ("5" ("0") (1) ("1") (0)))
     ("B" ("0" ("0") (1) ("1") (0)) ("2" ("0") (1) ("1") (0)))))
   ("1"
    ("B" ("A" ("0" ("1") (2) ("0") (0))) ("C" ("0" ("1") (3) ("0") (0)))
     ("B" ("0" ("1") (1) ("0") (0))) ("D" ("0" ("1") (1) ("0") (0))))
    ("D" ("C" ("0" ("1") (3) ("0") (0)) ("1" ("1") (3) ("0") (0)))
     ("B" ("0" ("1") (1) ("0") (0)) ("1" ("1") (1) ("0") (0)))
     ("A" ("0" ("1") (1) ("0") (0)) ("2" ("1") (2) ("0") (0)))
     ("D" ("1" ("1") (1) ("0") (0))))
    ("C" ("B" ("0" ("1") (3) ("0") (0)) ("2" ("1") (1) ("0") (0)))
     ("A" ("1" ("1") (2) ("0") (0)) ("2" ("1") (1) ("0") (0))
      ("0" ("1") (1) ("0") (0)))
     ("D" ("2" ("1") (1) ("0") (0)) ("0" ("1") (1) ("0") (0))))
    ("A" ("D" ("0" ("1") (1) ("0") (0))) ("A" ("0" ("1") (3) ("0") (0)))))))
 ((8 5 6 3)
  (ROOT
   ("D"
    ("C" ("0" ("1" ("1") (2) ("0") (0)) ("0" ("0") (5) ("1") (0)))
     ("1" ("0" ("0") (1) ("1") (0)) ("1" ("1") (1) ("0") (0))))
    ("A" ("0" ("0" ("0") (7) ("1") (0)) ("1" ("1") (1) ("0") (0))))
    ("D" ("0" ("1" ("1") (3) ("0") (0)) ("0" ("0") (2) ("1") (0)))
     ("1" ("1" ("1") (1) ("0") (0)) ("0" ("0") (1) ("1") (0)))
     ("2" ("1" ("1") (1) ("0") (0)) ("0" ("0") (1) ("1") (0))))
    ("B" ("0" ("0" ("0") (3) ("1") (0)))))
   ("B" ("A" ("0" ("0" ("0") (7) ("1") (0)) ("1" ("1") (1) ("0") (0))))
    ("B" ("0" ("1" ("1") (4) ("0") (0)) ("0" ("0") (6) ("1") (0)))
     ("1" ("0" ("0") (1) ("1") (0))))
    ("C" ("0" ("0" ("0") (1) ("1") (0))))
    ("D" ("0" ("1" ("1") (2) ("0") (0)) ("0" ("0") (1) ("1") (0)))
     ("1" ("0" ("0") (1) ("1") (0)))))
   ("C" ("C" ("1" ("0" ("0") (1) ("1") (0))) ("0" ("0" ("0") (2) ("1") (0))))
    ("A" ("0" ("0" ("0") (4) ("1") (0)) ("1" ("1") (1) ("0") (0))))
    ("B" ("0" ("0" ("0") (5) ("1") (0))))
    ("D" ("0" ("1" ("1") (2) ("0") (0)) ("0" ("0") (1) ("1") (0)))))
   ("A" ("A" ("0" ("0" ("0") (4) ("1") (0)) ("1" ("1") (2) ("0") (0))))
    ("B" ("0" ("0" ("0") (5) ("1") (0)) ("1" ("1") (6) ("0") (0)))
     ("1" ("0" ("0") (1) ("1") (0))))
    ("C" ("0" ("1" ("1") (1) ("0") (0)))
     ("1" ("1" ("1") (2) ("0") (0)) ("0" ("0") (1) ("1") (0)))
     ("2" ("1" ("1") (1) ("0") (0))))
    ("D" ("2" ("1" ("1") (3) ("0") (0)) ("0" ("0") (2) ("1") (0)))
     ("1" ("0" ("0") (2) ("1") (0)) ("1" ("1") (1) ("0") (0)))))))
 ((2 1 7)
  (ROOT
   ("S" ("1" ("male" ("0") (9) ("1") (2)) ("female" ("1") (2) ("0") (0)))
    ("2" ("male" ("0") (16) ("1") (1)) ("female" ("1") (9) ("0") (0)))
    ("3" ("male" ("1") (4) ("0") (19)) ("female" ("0") (10) ("1") (3))))
   ("C" ("1" ("female" ("1") (5) ("0") (0)) ("male" ("0") (7) ("1") (2)))
    ("3" ("female" ("0") (1) ("1") (2)) ("male" ("0") (2) ("1") (0)))
    ("2" ("male" ("0") (2) ("1") (0)) ("female" ("1") (1) ("0") (0))))
   ("Q" ("1" ("male" ("0") (2) ("1") (0)))
    ("3" ("male" ("0") (1) ("1") (0))))))
 ((5 8)
  (ROOT
   ("1" ("0" ("1") (24) ("0") (0)) ("2" ("1") (7) ("0") (0))
    ("1" ("1") (6) ("0") (0)))
   ("0" ("0" ("0") (50) ("1") (0)) ("6" ("0") (1) ("1") (0))
    ("2" ("0") (4) ("1") (0)) ("5" ("0") (3) ("1") (0))
    ("1" ("0") (5) ("1") (0)))))
 ((3 8 6)
  (ROOT
   ("A"
    ("0" ("D" ("0") (9) ("1") (0)) ("A" ("0") (3) ("1") (0))
     ("C" ("0") (4) ("1") (0)) ("B" ("0") (8) ("1") (0)))
    ("1" ("C" ("1") (2) ("0") (0)) ("A" ("1") (2) ("0") (0))
     ("B" ("1") (1) ("0") (0))))
   ("C"
    ("0" ("A" ("0") (5) ("1") (0)) ("C" ("0") (4) ("1") (0))
     ("D" ("0") (11) ("1") (0)) ("B" ("0") (2) ("1") (0)))
    ("1" ("A" ("1") (4) ("0") (0)) ("D" ("1") (2) ("0") (0))))
   ("D"
    ("1" ("C" ("1") (4) ("0") (0)) ("D" ("1") (3) ("0") (0))
     ("B" ("1") (3) ("0") (0)))
    ("0" ("B" ("0") (1) ("1") (0)) ("D" ("0") (5) ("1") (0))
     ("A" ("0") (3) ("1") (0)) ("C" ("0") (1) ("1") (0))))
   ("B"
    ("0" ("A" ("0") (4) ("1") (0)) ("B" ("0") (3) ("1") (0))
     ("C" ("0") (6) ("1") (0)) ("D" ("0") (2) ("1") (0)))
    ("1" ("A" ("1") (5) ("0") (0)) ("C" ("1") (2) ("0") (0))
     ("B" ("1") (1) ("0") (0))))))
 ((6 2 1 8)
  (ROOT
   ("0"
    ("3"
     ("male" ("C" ("0") (4) ("1") (0)) ("A" ("0") (17) ("1") (0))
      ("B" ("0") (8) ("1") (0)) ("D" ("0") (1) ("1") (0)))
     ("female" ("C" ("0") (2) ("1") (0)) ("B" ("0") (1) ("1") (0))))
    ("2"
     ("male" ("B" ("0") (12) ("1") (0)) ("C" ("0") (3) ("1") (0))
      ("D" ("0") (1) ("1") (0))))
    ("1" ("male" ("D" ("0") (5) ("1") (0)))))
   ("1"
    ("2"
     ("female" ("C" ("1") (5) ("0") (0)) ("B" ("1") (5) ("0") (0))
      ("D" ("1") (2) ("0") (0)))
     ("male" ("C" ("1") (2) ("0") (0))))
    ("3"
     ("male" ("A" ("1") (6) ("0") (0)) ("B" ("1") (2) ("0") (0))
      ("C" ("1") (1) ("0") (0)))
     ("female" ("C" ("1") (2) ("0") (0)) ("A" ("1") (1) ("0") (0))
      ("B" ("1") (3) ("0") (0))))
    ("1" ("female" ("D" ("1") (9) ("0") (0)) ("C" ("1") (2) ("0") (0)))
     ("male" ("D" ("1") (1) ("0") (0)) ("C" ("1") (5) ("0") (0)))))))
 ((8 2 4 7)
  (ROOT
   ("S"
    ("0" ("female" ("0" ("0") (2) ("1") (0)) ("1" ("1") (14) ("0") (0)))
     ("male" ("0" ("0") (28) ("1") (0)) ("1" ("1") (4) ("0") (0))))
    ("1" ("female" ("1" ("1") (10) ("0") (0)) ("0" ("0") (2) ("1") (0)))
     ("male" ("1" ("1") (5) ("0") (0)) ("0" ("0") (6) ("1") (0))))
    ("2" ("female" ("1" ("1") (1) ("0") (0))))
    ("3" ("male" ("0" ("0") (1) ("1") (0))))
    ("8" ("male" ("0" ("0") (1) ("1") (0))))
    ("4" ("female" ("0" ("0") (1) ("1") (0)))))
   ("C"
    ("1" ("male" ("1" ("1") (2) ("0") (0)) ("0" ("0") (4) ("1") (0)))
     ("female" ("1" ("1") (8) ("0") (0))))
    ("0" ("male" ("0" ("0") (6) ("1") (0)) ("1" ("1") (1) ("0") (0)))
     ("female" ("1" ("1") (2) ("0") (0)))))
   ("Q"
    ("0" ("male" ("0" ("0") (1) ("1") (0)))
     ("female" ("1" ("1") (1) ("0") (0)))))))
 ((2 1)
  (ROOT ("3" ("male" ("0") (29) ("1") (6)) ("female" ("1") (9) ("0") (8)))
   ("1" ("male" ("0") (15) ("1") (2)) ("female" ("1") (17) ("0") (1)))
   ("2" ("male" ("1") (1) ("0") (7)) ("female" ("1") (5) ("0") (0)))))
 ((8 7)
  (ROOT ("S" ("1" ("1") (20) ("0") (0)) ("0" ("0") (49) ("1") (0)))
   ("C" ("0" ("0") (10) ("1") (0)) ("1" ("1") (12) ("0") (0)))
   ("Q" ("1" ("1") (4) ("0") (0)) ("0" ("0") (5) ("1") (0)))))
 ((6 1 8 2)
  (ROOT
   ("female"
    ("1" ("1" ("D" ("1") (11) ("0") (0))) ("2" ("C" ("1") (4) ("0") (0)))
     ("3" ("B" ("1") (2) ("0") (0)) ("A" ("1") (5) ("0") (0))
      ("D" ("1") (1) ("0") (0)) ("C" ("1") (2) ("0") (0))))
    ("0"
     ("3" ("B" ("0") (1) ("1") (0)) ("A" ("0") (1) ("1") (0))
      ("C" ("0") (4) ("1") (0)))))
   ("male"
    ("0"
     ("3" ("A" ("0") (17) ("1") (0)) ("C" ("0") (7) ("1") (0))
      ("D" ("0") (1) ("1") (0)) ("B" ("0") (8) ("1") (0)))
     ("2" ("B" ("0") (11) ("1") (0)) ("C" ("0") (5) ("1") (0))
      ("D" ("0") (2) ("1") (0)))
     ("1" ("A" ("0") (2) ("1") (0)) ("D" ("0") (6) ("1") (0))
      ("C" ("0") (1) ("1") (0))))
    ("1" ("3" ("B" ("1") (4) ("0") (0)) ("A" ("1") (2) ("0") (0)))
     ("1" ("C" ("1") (2) ("0") (0))) ("2" ("C" ("1") (1) ("0") (0)))))))
 ((8 2 5)
  (ROOT
   ("0" ("male" ("1" ("1") (8) ("0") (0)) ("0" ("0") (46) ("1") (0)))
    ("female" ("1" ("1") (16) ("0") (0)) ("0" ("0") (3) ("1") (0))))
   ("2" ("male" ("0" ("0") (6) ("1") (0)) ("1" ("1") (1) ("0") (0)))
    ("female" ("1" ("1") (5) ("0") (0))))
   ("1" ("female" ("1" ("1") (7) ("0") (0)) ("0" ("0") (1) ("1") (0)))
    ("male" ("0" ("0") (5) ("1") (0)) ("1" ("1") (2) ("0") (0))))))
 ((2 7)
  (ROOT ("S" ("female" ("1") (22) ("0") (5)) ("male" ("0") (36) ("1") (4)))
   ("C" ("male" ("0") (18) ("1") (3)) ("female" ("1") (10) ("0") (0)))
   ("Q" ("male" ("0") (1) ("1") (0)) ("female" ("0") (1) ("1") (0)))))
 ((7 2 1 8)
  (ROOT
   ("0"
    ("3"
     ("male" ("S" ("0") (24) ("1") (0)) ("C" ("0") (5) ("1") (0))
      ("Q" ("0") (1) ("1") (0)))
     ("female" ("S" ("0") (5) ("1") (0))))
    ("1"
     ("male" ("S" ("0") (7) ("1") (0)) ("C" ("0") (5) ("1") (0))
      ("Q" ("0") (1) ("1") (0))))
    ("2" ("male" ("C" ("0") (1) ("1") (0)) ("S" ("0") (9) ("1") (0)))
     ("female" ("S" ("0") (2) ("1") (0)))))
   ("1"
    ("3"
     ("female" ("Q" ("1") (2) ("0") (0)) ("S" ("1") (4) ("0") (0))
      ("C" ("1") (1) ("0") (0)))
     ("male" ("S" ("1") (4) ("0") (0)) ("C" ("1") (3) ("0") (0))))
    ("1" ("female" ("C" ("1") (5) ("0") (0)) ("S" ("1") (8) ("0") (0)))
     ("male" ("S" ("1") (3) ("0") (0)) ("C" ("1") (3) ("0") (0))))
    ("2" ("female" ("C" ("1") (2) ("0") (0)) ("S" ("1") (5) ("0") (0)))))))
 ((3 8 4)
  (ROOT
   ("0"
    ("1" ("A" ("1") (6) ("0") (0)) ("C" ("1") (5) ("0") (0))
     ("D" ("1") (5) ("0") (0)) ("B" ("1") (5) ("0") (0)))
    ("0" ("D" ("0") (10) ("1") (0)) ("A" ("0") (8) ("1") (0))
     ("B" ("0") (9) ("1") (0)) ("C" ("0") (13) ("1") (0))))
   ("1"
    ("1" ("B" ("1") (2) ("0") (0)) ("A" ("1") (2) ("0") (0))
     ("D" ("1") (7) ("0") (0)) ("C" ("1") (2) ("0") (0)))
    ("0" ("C" ("0") (3) ("1") (0)) ("A" ("0") (6) ("1") (0))
     ("D" ("0") (6) ("1") (0)) ("B" ("0") (2) ("1") (0))))
   ("2"
    ("0" ("B" ("0") (2) ("1") (0)) ("D" ("0") (1) ("1") (0))
     ("A" ("0") (1) ("1") (0)))
    ("1" ("A" ("1") (1) ("0") (0))))
   ("5" ("0" ("A" ("0") (1) ("1") (0))) ("1" ("A" ("1") (1) ("0") (0))))
   ("4" ("0" ("A" ("0") (1) ("1") (0))))
   ("3" ("0" ("A" ("0") (1) ("1") (0))))))
 ((6 8)
  (ROOT
   ("1" ("D" ("1") (19) ("0") (0)) ("A" ("1") (2) ("0") (0))
    ("C" ("1") (3) ("0") (0)) ("B" ("1") (5) ("0") (0)))
   ("0" ("A" ("0") (21) ("1") (0)) ("B" ("0") (31) ("1") (0))
    ("C" ("0") (9) ("1") (0)) ("D" ("0") (10) ("1") (0)))))
 ((7 3 8)
  (ROOT
   ("1" ("B" ("C" ("1") (4) ("0") (0)) ("S" ("1") (6) ("0") (0)))
    ("A" ("S" ("1") (8) ("0") (0)) ("C" ("1") (3) ("0") (0))
     ("Q" ("1") (1) ("0") (0)))
    ("C" ("S" ("1") (10) ("0") (0)) ("C" ("1") (3) ("0") (0)))
    ("D" ("C" ("1") (3) ("0") (0)) ("S" ("1") (2) ("0") (0))))
   ("0" ("D" ("S" ("0") (18) ("1") (0)) ("C" ("0") (4) ("1") (0)))
    ("B" ("C" ("0") (2) ("1") (0)) ("S" ("0") (11) ("1") (0))
     ("Q" ("0") (1) ("1") (0)))
    ("A" ("S" ("0") (12) ("1") (0)) ("C" ("0") (1) ("1") (0)))
    ("C" ("S" ("0") (7) ("1") (0)) ("C" ("0") (2) ("1") (0))
     ("Q" ("0") (2) ("1") (0))))))) )) 
(defvar results (quote 

(0.98260003 0.9817 0.9841 0.9828 0.9833 0.9803 0.9838 0.9829 0.9831 0.9833
 0.9813 0.9817 0.9819 0.9835 0.9814 0.9847 0.9793 0.984 0.9829 0.9833 0.9827) )) 
;;;;;;;;;;;;;

; Wich features are numeric? 0: not, 1: yes. *(not yet implemented)
(defvar *num-fetures* '(3 6))
; Total features *(not yet implemented)
(defvar *total-fetures* '8)
(defvar *min-fetures-sample* '2)
(defvar *max-fetures-sample* '7)
; Targets? 
(defvar *targets* '("1" "0"))

; Model parameters.

; Number os trees in the forest:
(defvar *NTrees* 20)
; How much samples will be used to build the trees?
(defvar *NSamples* 100)
; To prune the worst trees with low rating accuracy.
; Prune below THPrec.
(defvar *THPrec* 0.8)

; Test rounds 
(defvar *TRounds* 20)
; Load the datasets to memory
(defvar *TSamples_train* 30000)
(defvar *TSamples_test* 10000)

; 16280 dataset.test.csv
; 32561 dataset.training.csv
; 48841 total
; Without samples with missing data:
; 15059 dataset.test.csv
; 30162 dataset.training.csv
; 45221 total

;EOF